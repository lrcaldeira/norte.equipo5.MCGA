
@{
    ViewBag.Title = "Home Page";
}


<div class="container">

    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
            <li data-target="#myCarousel" data-slide-to="3"></li>
            <li data-target="#myCarousel" data-slide-to="4"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">

            <div class="item active">
                <img src="~/Content/Imagens/Artistas/autorretrato-van-gogh-bn.jpg" alt="Vincent van Gogh" style="width:20%;">
                <div class="carousel-caption">
                    <h3>Vincent van Gogh</h3>
                    <p style="color:black">
                        Vincent Willem van Gogh fue un pintor neerlandés, uno de los principales exponentes del postimpresionismo.
                        Pintó unos 900 cuadros y realizó más de 1600 dibujos.  Una figura central en su vida fue su hermano menor Theo, marchante de arte en París, quien le prestó apoyo financiero de manera continua y desinteresada
                    </p>
                </div>
            </div>

            <div class="item">
                <img src="~/Content/Imagens/Artistas/foto-claude-monet.jpg" alt="Claude Monet" style="width:20%;">
                <div class="carousel-caption">
                    <h3>Claude Monet</h3>
                    <p style="color:black">
                        Claude Monet fue un pintor francés, uno de los creadores del impresionismo.
                        El término impresionismo deriva del título de su obra Impresión, sol naciente.​Sus primeras obras, hasta la mitad de la década de 1860, son de estilo realista.
                        Monet logró exponer algunas en el Salón de París
                    </p>
                </div>
            </div>

            <div class="item">
                <img src="~/Content/Imagens/Artistas/foto-p-a-renoir.jpg" alt="Pierre-Auguste Renoir" style="width:20%;">
                <div class="carousel-caption">
                    <h3>Pierre-Auguste Renoir</h3>
                    <p style="color:black">Pierre-Auguste Renoir fue un pintor francés impresionista, que en la segunda parte de su carrera se interesó por la pintura de cuerpos femeninos en paisajes, inspirados a menudo en pinturas clásicas renacentistas y barrocas</p>
                </div>
            </div>

            <div class="item">
                <img src="~/Content/Imagens/Artistas/foto-pablo-ruiz-picasso.jpg" alt="Pablo Picasso" style="width:20%;">
                <div class="carousel-caption">
                    <h3>Pablo Picasso</h3>
                    <p style="color:black">
                        Pablo Ruiz Picasso (Málaga, 25 de octubre de 1881-Mougins, 8 de abril de 1973) fue un pintor y escultor español, creador, junto con Georges Braque, del cubismo.
                        Es considerado desde la génesis del siglo xx como uno de los mayores pintores que participaron en muchos movimientos artísticos que se propagaron por el mundo y ejercieron una gran influencia en otros grandes artistas de su tiempo.
                    </p>
                </div>
            </div>

            <div class="item">
                <img src="~/Content/Imagens/Artistas/retrato-de-francisco-goya-por-vicente-lopez.jpg" alt="Francisco Goya" style="width:20%;">
                <div class="carousel-caption">
                    <h3>Francisco Goya</h3>
                    <p style="color:black">
                        Francisco José de Goya fue un pintor y grabador español. Su obra abarca la pintura de caballete y mural, el grabado y el dibujo.
                        Su estilo evolucionó desde el rococó, pasando por el neoclasicismo, hasta el prerromanticismo, siempre interpretados de una forma personal y original,2​ y siempre con un rasgo subyacente de naturalismo, del reflejo de la realidad sin una visión idealista que la edulcore ni desvirtúe, donde es igualmente importante el mensaje ético.
                    </p>
                </div>
            </div>

        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>



<!-- ============================================================== -->
<!-- Bread crumb and right sidebar toggle -->
<!-- ============================================================== -->
<div class="page-breadcrumb">
    <div class="row">
        <div class="col-md-5 align-self-center">
            <div class="d-flex align-items-center">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item active" aria-current="page"></li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- ============================================================== -->
<!-- End Bread crumb and right sidebar toggle -->
<!-- ============================================================== -->
<!-- ============================================================== -->
<!-- Container fluid  -->
<!-- ============================================================== -->
<div class="container-fluid">
    <!-- ============================================================== -->
    <!-- Start Page Content -->
    <!-- ============================================================== -->
    <div class="row el-element-overlay" data-bind="foreach: Products">
        <div class="col-lg-3 col-md-6">
            <div class="card">
                <div class="el-card-item pb-3">
                    <div class="el-card-avatar mb-3 el-overlay-1 w-100 overflow-hidden position-relative text-center">
                        <img data-bind="attr:{src: '/Content/imagens/Obras/'+Image()}" class="d-block position-relative w-100" alt="user">
                        <div class="el-overlay w-100 overflow-hidden">
                            <ul class="list-style-none el-info text-white text-uppercase d-inline-block p-0">
                                <li class="el-item d-inline-block my-0  mx-1"><a class="btn default btn-outline image-popup-vertical-fit el-link text-white border-white" data-bind="attr:{href: '/Content/imagens/Obras/'+Image()}"><i class="icon-magnifier"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="d-flex no-block align-items-center">
                        <div class="ml-3">
                            <h4 class="mb-0" data-bind="text: Title" />
                            <h5 class="text-muted" data-bind="text: Artist.LastName" />
                            <h5 class="text-muted" data-bind="text: '$ ' + Price()" />
                        </div>
                        <div class="ml-auto mr-3">
                            <input data-bind="click: $parent.Agregar.bind($data,Id())" type="button" value="Comprar" class="btn default" />
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- ============================================================== -->
<!-- End PAge Content -->
<!-- ============================================================== -->

@section scripts
{
    <script src="~/Scripts/knockout-3.5.1.js"></script>
    <script src="~/Scripts/knockout.mapping-latest.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

    <script>

        const Toast = Swal.mixin({
            toast: true,
            position: 'center-end',
            showConfirmButton: false,
            timer: 2000
        })

        var AppViewModel = function () {
            var self = this;
            self.Products = ko.mapping.fromJS([]);
            $.getJSON("/Product/GetProducts",
                function (data) {
                    ko.mapping.fromJS(data, {}, self.Products);
                });
        };
        AppViewModel.prototype.Agregar = function (data) {


            $.ajax({
                type: 'GET',
                url: '/Cart/AddToCart/' + data,
                success: function (result) {

                    Toast.fire({
                        icon: 'success',
                        title: `Item was added successfully to Cart!`
                    })

                    Actualizar();
                }
            }).fail(
                function (xhr, textStatus, err) {

                    Swal.fire({
                        icon: 'error',
                        title: 'Oops...',
                        text: 'Error trying to add item to the Cart, try again later!'
                    })

                });

        };
        var viewModel = new AppViewModel();
        ko.applyBindings(viewModel);
    </script>

}